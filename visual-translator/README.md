# 🍓 AI Visual Translator (시각적 번역기)

> **"외국어 메뉴판, 만화, 포스터를 원본 느낌 그대로 번역해 드립니다."**

이 프로젝트는 단순히 글자만 번역하는 것이 아닙니다.  
이미지 속의 **글자를 감쪽같이 지우고**, 그 자리에 **번역된 글자를 자연스럽게 합성**해주는 AI 도구입니다.

![Before & After Example](result_phase4_final.png)
*(위 이미지는 예시입니다. 실제로 이렇게 바뀝니다!)*

---

## ✨ 무엇이 특별한가요?

보통 번역기(파파고, 구글 렌즈)는 글자 위에 색깔 상자를 덧씌워서 번역하죠?  
**Visual Translator**는 다릅니다.

1.  **AI 지우개 (Inpainting)**: 글자가 있던 자리를 주변 배경과 똑같이 복원해서 지웁니다. (마치 처음부터 글자가 없었던 것처럼!)
2.  **스마트 디자인**: 배경색이 어두운지 밝은지 스스로 판단해서, 가장 잘 보이는 글자색을 골라줍니다.
### 3. **정밀한 위치 선정**: 원래 글자가 있던 각도와 크기를 그대로 따라가서, 디자인을 해치지 않습니다.

## 🛠️ 전체 파이프라인 (작동 원리)

이 프로그램이 이미지를 어떻게 번역하는지, 4단계 과정을 소개합니다. "보이지 않는 공장"이 돌아가는 것과 같습니다.

### 1단계: 눈 (Detection) - "글자가 어디 있지?"
*   **PaddleOCR**라는 인공지능 눈이 이미지 전체를 훑어봅니다.
*   "여기 메뉴 이름이 있네?", "여기 가격이 있네?" 하고 글자의 위치(네모 박스)를 찾아냅니다.

### 2단계: 지우개 (Inpainting) - "글자를 지우자!"
*   찾아낸 글자 영역을 **Stability AI**에게 넘깁니다.
*   단순히 색칠해서 덮는 게 아니라, **"원래 글자가 없었던 것처럼 배경을 그려줘"**라고 부탁합니다.
*   결과: 글자만 감쪽같이 사라진 깨끗한 배경 이미지가 만들어집니다.

### 3단계: 두뇌 (Translation) - "무슨 뜻이지?"
*   **Google Gemini**에게 원본 글자를 보여주고 번역을 요청합니다.
*   단순 번역이 아니라, **"이건 카페 메뉴판이야, 자연스럽게 번역해줘"** 같은 문맥 처리가 가능합니다.

### 4단계: 붓 (Rendering) - "새 글자를 쓰자!"
*   지워진 배경 위에, 번역된 한국어를 예쁘게 써넣습니다.
*   **스마트 컬러**: 원래 글자가 흰색이었는지 검은색이었는지 배경을 보고 판단해서, 가장 잘 보이는 색으로 글씨를 씁니다.
*   **회전 보정**: 글자가 기울어져 있었다면, 똑같이 기울여서 자연스럽게 합성합니다.


---

## 🚀 시작하기 (설치 방법)

### 1. 준비물
*   Python (파이썬)이 설치되어 있어야 합니다.
*   **API 키**: 두 가지 열쇠가 필요합니다.
*   **API 키**: 두 가지 열쇠가 필요합니다.
    *   `OPENAI_API_KEY`: 번역을 위한 OpenAI(GPT-4o) 키
    *   `STABILITY_API_KEY`: 배경 지우기를 위한 Stability AI 키

### 2. 설치
터미널(명령 프롬프트)에서 다음 명령어를 입력하세요.

```bash
# 필요한 프로그램들을 설치합니다
pip install -r requirements.txt
```
*(또는 `uv`를 사용하신다면 `uv pip install -e .`)*

### 3. 열쇠 설정 (.env)
폴더 안에 `.env` 라는 파일을 만들고, 준비한 키를 적어주세요.

```ini
OPENAI_API_KEY=여러분의_오픈AI_키_입력
STABILITY_API_KEY=여러분의_스태빌리티_키_입력
```

---

## 🖼️ 이미지 번역하는 방법 (상세 가이드)

개발자가 아니어도 쉽게 사용할 수 있습니다!

### 1. 이미지 준비하기
번역하고 싶은 이미지 파일( `.png`, `.jpg` 등)을 **`visual-translator` 폴더 안에 복사**해 넣으세요.
(예: `menu.png`를 프로젝트 폴더인 `c:\Users\karl3\image_translate\visual-translator` 안에 넣기)

### 2. 🤖 봇 실행하기 (명령어 입력)
터미널(명령 프롬프트)을 열고, **먼저 프로젝트 폴더로 이동**해야 합니다!

```bash
# 1. 폴더 이동 (이걸 꼭 먼저 하세요!)
cd visual-translator

# 2. 봇 실행
python main.py 이미지파일명.png
```


# 예시: 내가 넣은 menu.png 번역하기
python main.py menu.png

# 팁: 매번 치기 귀찮다면? 키보드 위쪽 화살표(↑)를 누르면 방금 쓴 명령어가 다시 나옵니다!
```


### 3. 결과 확인하기
잠시 기다리면(약 10~20초), 폴더에 **완성된 이미지 파일**이 나타납니다. 열어보세요!


---

## 📁 폴더 구조 (개발자를 위한 정보)

*   `main.py`: 이 프로그램을 실행하는 메인 파일입니다.
*   `src/`: 핵심 부품들이 들어있는 상자입니다.
    *   `detector.py`: 글자 위치 탐지기
    *   `inpainter.py`: 배경 지우개
    *   `translator.py`: 번역기
    *   `renderer.py`: 글자 쓰기 도구
    *   `color_utils.py`: 색상 골라주는 도구

---
*Created by Karl3 & Antigravity (Google DeepMind)*
